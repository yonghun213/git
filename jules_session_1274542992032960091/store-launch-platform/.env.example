# ===========================================
# Store Launch Platform - Environment Variables
# ===========================================
# Copy this file to .env.local for local development
# For Vercel deployment, add these in Project Settings > Environment Variables

# -----------------------
# DATABASE (REQUIRED)
# -----------------------
# For local development: Use SQLite (default)
# DATABASE_URL="file:./prisma/store_launch.db"
#
# For Vercel/Production: Use Supabase Postgres FREE tier
# Sign up at https://supabase.com (FREE, no credit card required)
# Create a new project and copy the connection string from Settings > Database
DATABASE_URL="postgresql://USER:PASSWORD@HOST:5432/DATABASE?pgbouncer=true&connection_limit=1"

# -----------------------
# AUTHENTICATION (REQUIRED for production)
# -----------------------
# NextAuth Configuration
# NEXTAUTH_URL: Your deployed URL (e.g., https://your-app.vercel.app)
# For local dev, use http://localhost:3000
NEXTAUTH_URL="http://localhost:3000"

# NEXTAUTH_SECRET: Generate with: openssl rand -base64 32
# This is used to encrypt session tokens
NEXTAUTH_SECRET="your-secret-key-here-generate-with-openssl-rand-base64-32"

# -----------------------
# FILE STORAGE (OPTIONAL - for Store Registration feature)
# -----------------------
# Supabase Storage FREE tier (1GB free)
# Get these from your Supabase project: Settings > API
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key-here"
SUPABASE_SERVICE_KEY="your-service-role-key-here"

# If Supabase is not configured, the app will fallback to local filesystem storage
# (public/uploads/) which works for development but not for production on Vercel

# -----------------------
# FILE UPLOAD LIMITS (OPTIONAL)
# -----------------------
# Maximum file size in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# -----------------------
# NODE ENVIRONMENT
# -----------------------
# Automatically set by Vercel, but can be overridden
# NODE_ENV="production"

# ===========================================
# DEPLOYMENT CHECKLIST
# ===========================================
# For Vercel FREE tier deployment:
#
# 1. Create a Supabase account (FREE): https://supabase.com
#    - Create new project
#    - Copy DATABASE_URL from Settings > Database > Connection string
#    - Set mode to "Transaction" for Prisma
#
# 2. Generate NEXTAUTH_SECRET:
#    Run: openssl rand -base64 32
#    Or use: https://generate-secret.vercel.app/32
#
# 3. In Vercel Project Settings > Environment Variables, add:
#    - DATABASE_URL (from Supabase)
#    - NEXTAUTH_URL (your Vercel deployment URL)
#    - NEXTAUTH_SECRET (generated secret)
#    - NEXT_PUBLIC_SUPABASE_URL (optional, from Supabase Settings > API)
#    - NEXT_PUBLIC_SUPABASE_ANON_KEY (optional, from Supabase Settings > API)
#    - SUPABASE_SERVICE_KEY (optional, from Supabase Settings > API)
#
# 4. Deploy and run database migration:
#    After first deployment, run: npx prisma migrate deploy
#    (You may need to run this via Vercel's terminal or locally)
#
# 5. Seed the database (one-time):
#    Run: npx tsx prisma/seed.ts
#    (Can be done locally with production DATABASE_URL or via Vercel CLI)
#
# FREE TIER LIMITS:
# - Supabase Postgres: 500MB database, 2GB bandwidth/month
# - Supabase Storage: 1GB storage
# - Vercel: 100GB bandwidth/month, serverless functions
# - No credit card required for basic usage
